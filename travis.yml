language: python
python:
    - '3.7'
install:
    - 'pip install pipenv'
    - 'pipenv install -dev'
before_script:
    - mkdir -p travis/codecoverage
    - mkdir -p travis/testresults
script:
    - nosetests --with-xunit --xunit-file=travis/testresults/nosetests.xml
    - coverage run --branch pocket.py
    - coverage xml -o travis/codecoverage/coverage.xml pocket.py
notifications:
    email:
        recipients:
            - tapan.pandita@gmail.com
        on_success: change
        on_failure: always
branches:
    only:
        - master
        - develop
